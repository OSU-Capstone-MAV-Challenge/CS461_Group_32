\documentclass[onecolumn, draftclsnofoot,10pt, compsoc]{IEEEtran}
\usepackage{url}
\usepackage{setspace}
\usepackage{graphicx}
\usepackage{epstopdf}
\epstopdfsetup{update} % only regenerate pdf files when eps file is newer
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{indentfirst}
\usepackage{geometry}
\usepackage{color}
\usepackage{tikz}
\usepackage{rotating}
\usepackage{pgfgantt}
\usepackage{xcolor}
\geometry{textheight=9.5in, textwidth=7in}


% 1. Fill in these details
\def \CapstoneTeamName{		MAV Challenge}
\def \CapstoneTeamNumber{		32}
\def \GroupMemberOne{			Justin Sherburne}
\def \GroupMemberTwo{			Kaiyuan Fan}
\def \GroupMemberThree{			Yingshi Huang}
\def \CapstoneProjectName{		AHS Micro-Air Vehicle Challenge}
%\def \CapstoneSponsorCompany{	Columbia Helicopters}
\def \CapstoneSponsorPerson{		Nancy Squires, Ph.D.}

% 2. Uncomment the appropriate line below so that the document type works
\def \DocType{		%Problem Statement
				%Requirements Document
				%Technology Review
				%Design Document
				Midterm Report
				}
			
\newcommand{\NameSigPair}[1]{\par
\makebox[2.75in][r]{#1} \hfil 	\makebox[3.25in]{\makebox[2.25in]{\hrulefill} \hfill		\makebox[.75in]{\hrulefill}}
\par\vspace{-12pt} \textit{\tiny\noindent
\makebox[2.75in]{} \hfil		\makebox[3.25in]{\makebox[2.25in][r]{Signature} \hfill	\makebox[.75in][r]{Date}}}}
% 3. If the document is not to be signed, uncomment the RENEWcommand below
\renewcommand{\NameSigPair}[1]{#1}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\begin{titlepage}
    \pagenumbering{gobble}
    \begin{singlespace}
    	\includegraphics[height=4cm]{coe_v_spot1}
        \hfill 
        % 4. If you have a logo, use this includegraphics command to put it on the coversheet.
        %\includegraphics[height=4cm]{CompanyLogo}   
        \par\vspace{.2in}
        \centering
        \scshape{
            \huge CS Capstone \DocType \par
            {\large\today}\par
            \vspace{8pt}
            \textbf{\Huge\CapstoneProjectName}\par
			\vspace{1.5in}
            {\large Prepared for}\par
            % \Huge \CapstoneSponsorCompany\par
            % \vspace{5pt}
            {\Large\NameSigPair{\CapstoneSponsorPerson}\par}
			\vspace{3pt}
            {\large Prepared by }\par
            Group\CapstoneTeamNumber\par
            % 5. comment out the line below this one if you do not wish to name your team
            \CapstoneTeamName\par 
            \vspace{8pt}
            {\Large
                \NameSigPair{\GroupMemberOne}\par
                \NameSigPair{\GroupMemberTwo}\par
                \NameSigPair{\GroupMemberThree}\par
            }
            \vspace{.5in}
        }
        \begin{abstract}
        The purpose of this document is to provide a reflection on the progress of the Micro Air Vehicle project. We are now sixteen weeks into the project, approximately half of the way to completion. Here we will outline problems and possible solutions we have encountered this far, as well as a breakdown of weekly progress made thus far. 
        \end{abstract}     
    \end{singlespace}
\end{titlepage}
\newpage
\pagenumbering{arabic}
\tableofcontents
% 7. uncomment this (if applicable). Consider adding a page break.
%\listoffigures
%\listoftables
\clearpage


\section*{Revision History}

\begin{center}
    \begin{tabular}{|c|c|c|c|}
        \hline
		Name & Date & Reason For Changes & Version\\
        \hline
		Midterm Progress Report & Feb 15, 2018 & Initial Creation & 1.0\\
		\hline 
    \end{tabular}
\end{center}




\section{Purpose}

The purpose of this project is to design a vehicle capable of competing in the American Helicopter Societyâ€™s Micro-Air Vehicle challenge. We have elected to compete in the autonomous category, meaning our vehicle must be able to fly without any user interaction. We are representing Oregon State University for the first time at this competition, and if our project is successful we could gain additional outside funding similar to the OSU rocketry and solar teams.

\section{Project Goals}
The goal is to create a vehicle capable of navigating the competition environment without human control. Additionally, the vehicle should be able to pick up letters and deliver them to other locations within the competition environment. There are additional constraints on the size, weight, and specific functionalities of the vehicle, but from the computer science standpoint our goals are:

\begin{enumerate}
\item{The vehicle must be able to stream one camera feed to the base station for manual control. }
\item{We must have an emergency cut-off switch in case of a loss of communication or control. }
\item{We must have a manual override that will shut-down autonomous controls.}
\item{Ultrasonic sensors will be used to calculate distance from objects within the competition area in conjunction with the camera.}
\item{Image processing at minimum should be able to identify three objects: The letter, the landing area, and the boundary lines.}
\item{Any flight changes should originate from the base station, and motor controls should be implemented on the vehicle.}
\item{Our vehicle should fully comply with AHS competition rules and guidelines. }
\end{enumerate}

\section{Justin Sherburne's Report}

\subsection{Current Progress}

During the course of this term I have been developing our image recognition software for the competition. Currently I have implemented tracking based on object color. This should be sufficient for our autonomous design because the baoundary is marked yellow, deliveries are red, and landing area's are black. It is possible to implement some form of pattern matching to fill in the gaps if the color is not enough by itself. Currently I am exploring an open-source guide written by Kyle Hounslow which fully implements object tracking based on color. Using this guide we are able to identify individual colors in near real-time by filtering specific values from the video feed. 

Due to the complexity of the calculations being used for image processing, the majority of the processing is being done on the base station. Ultimately the code will also contain the controls feature and open a wireless link to the vehicle for control. It should require one parameter to be passed in at startup which is the IP of the vehicle (unless this IP can be fixed in the closed network). Streaming of the video occurs over the WiFi Pineapple, which acts as a simple router for our purposes. This has been tested and works well in a veriety of conditions. We will need to continue testing this in te future to make sure it can withstand long-distances and area's with strong network activity.  


\subsection{Future Goals}



\subsection{Problems}

One of the biggest problems I've encountered was in regard to the camrea multiplexor we were planning on implementing. The documentation from the manufacturer wasn't completely correct, so it was not able to stream both camrea's at the same time. Instead you could switch between the two feeds using the GPIO pins on the PI zero. Unfortuneately for our situation if both camreas were not rinning simultaniously, then one of them was simply dead weight. 

\subsection{Solutions}

Our solution to the camrea problem had a couple of different options. The first option was to mount a second PI Zero to the vehicle. This is possible given our excess of thrust, but we would have also ran into issues with power and control. It is simple to have all of the ocmponents running to one PI Zero, but having two on the aircraft would unneccisarily complicate things. 

The second option, and the option we decided to take, was to lose a camera. This reduces the amount of information we are able to receive from the vehicle, but it also reduces the amount of network traffic and complexity of the project. In return we will need to rely more on our ultrasonic sensors, and be a little more clever with our autonomous controls. The remaining camrea will be direced straight down, and the aircraft will mostly trace the outside boundary, conducting a search pattern in the designated area.


\newpage
\section{Ten Week Retrospective}
\vspace{.25in}
\begin{center}
    \begin{tabular}{|p{0.3\linewidth}|p{0.3\linewidth}|p{0.3\linewidth}|}
        \hline
		 Positives & Deltas: changes that need to be implemented & Actions  to be implemented to create the necessary changes. \\
        \hline
		 Created biography and resume for capstone class. Share OneNote with professors. Submit project preferences. & N/A & N/A  \\
		\hline 
         Groups assigned. Organized group communication and e-mailed project sponsor. & Group availability needs to be scheduled & Created a doodle poll to have a record of possible meeting times and member availability.  \\
		\hline 
         Problem Statement rough draft was due. Our first group meeting. Participated in a tour of Columbia Helicopters facilities in Aurora. We decided on the autonomous implementation for the project. & Sensors for autonomous implementation need to be selected. Future group meeting time needs to be established. & Another doodle poll will  be created for the group availability. Conduct sensor research before next week.  \\
		\hline 
         The Sensor requirements were established. Problem Statement final draft was due. Present autonomous research to the group. Group meeting times established. & The Mechanical team changed from a quadcopter to a helicopter on Friday, so the Problem Statement document will need to be edited. & Problem doc will be edited over winter break, after the competition rules are announced. Project will continue as planned with the new design. \\
		\hline 
         Ordered initial equipment for the CS implementation. The Project Requirements Document rough draft is due. The Raspberry Pi Zero W works great. & Project sponsor communication is slow-going. & Moving forward, the sponsor should be contacted at least a week ahead if it's via e-mail, or we should take advantage of her office hours for document approval. \\
		\hline 
         The Project Requirements document final draft is due. Documents were approved via office hours. Implementation on the Raspberry Pi Zero has begun. & Raspberry Pi is not configured for use out of the box. &  Loaded the Rasbian OS onto the Raspberry Pi, and started initial implementation. \\
		\hline 
         6th Annual MAV Student Challenge Rules are announced. The Pi was configured to stream video to the base station using WiFi communication. & Documents written prior to this week will need to be edited to reflect competition changes. Wireless streaming needs to be implemented over WiFi pineapple & Document changes will take place over winter break, and future documents will be in accordance to the new rules. WiFi Pineapple implementation will begin next week. \\
		\hline
    \end{tabular}
\end{center}

\begin{center}
    \begin{tabular}{|p{0.3\linewidth}|p{0.3\linewidth}|p{0.3\linewidth}|}
        		\hline 
        Tech Review Document rough draft is due. Alternative streaming program found that will work better, and it has support for OpenCV. & There is no motor or body for the aircraft yet. Project funding for competition travel should be sought out. & The aircraft will be created from salvaged parts from commercial versions, waiting on shipping. Individuals are encouraged to seek funding. \\
		\hline 
         Technology Review is due. Class and meetings canceled due to the holidays. & Peer review by classmates on Tuesday. Rewrite and send the final draft of Technology Review. No meetings due to holidays. & IEEETran format should be reviewed for the Technology Review.\\
		\hline 
         The multiplexer has arrived. Design Document is due. Progress Report is due Dec. 4th. & Design Document approved email needed by next week. & Research and test how to connect the Raspberry Pi Zero W to OpenCV.   \\
        
        \hline
            \end{tabular}
\end{center}


\end{document}
